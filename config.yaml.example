# myao2 設定ファイル

# Slack設定
slack:
  bot_token: ${SLACK_BOT_TOKEN}  # 環境変数参照
  app_token: ${SLACK_APP_TOKEN}

# LLM設定（LiteLLMのcompletionに渡すdict）
llm:
  default:
    model: "gpt-4o"
    temperature: 0.7
    max_tokens: 1000
  # 用途別に複数設定可能
  judgment:  # 応答判定用
    model: "gpt-4o-mini"
    temperature: 0.3

# ペルソナ設定
persona:
  name: "myao"
  system_prompt: "あなたは友達のように振る舞うチャットボットです。"

# 応答判定設定
response:
  check_interval_seconds: 60  # 判定ループの間隔
  min_wait_seconds: 300  # 最低待機時間（誰も反応しない場合）
  message_limit: 20  # チャンネル監視時の取得メッセージ数上限
  max_message_age_seconds: 43200  # 最大メッセージ経過時間（12時間）、これより古いメッセージは対象外
  # 判定スキップ設定（LLM呼び出し削減のため）
  judgment_skip:
    enabled: true
    thresholds:
      - min_confidence: 0.9
        skip_seconds: 43200  # 12時間
      - min_confidence: 0.7
        skip_seconds: 3600   # 1時間
    default_skip_seconds: 600  # 10分

# 記憶設定
memory:
  database_path: "./data/memory.db"
  long_term_update_interval_seconds: 3600  # 長期記憶更新間隔（秒）
  short_term_window_hours: 24              # 短期記憶の時間窓（時間）
  long_term_summary_max_tokens: 500        # 長期記憶の最大トークン数
  short_term_summary_max_tokens: 300       # 短期記憶の最大トークン数
  memory_generation_llm: "default"         # 記憶生成に使用する LLM 設定名

# ログ設定（オプショナル）
logging:
  level: INFO  # ルートログレベル（DEBUG, INFO, WARNING, ERROR, CRITICAL）
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  # LLMに渡すメッセージをINFOレベルで出力（開発時のデバッグ用）
  debug_llm_messages: false
  # 個別ロガーのレベル設定
  loggers:
    # 例: 特定のモジュールをDEBUGレベルに
    # myao2.infrastructure.slack: DEBUG

# 外部サービス設定
external:
  web_search:
    enabled: false
    # provider設定など
